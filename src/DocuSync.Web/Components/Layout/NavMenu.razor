@using Microsoft.AspNetCore.Authorization
@using MudBlazor
@using DocuSync.Application.Authorization.Constants

<MudDrawer @bind-Open="@_drawerOpen" ClipMode="DrawerClipMode.Always" Elevation="2">
   <MudNavMenu>
       <MudNavLink Href="" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Home">Home</MudNavLink>

       <AuthorizeView Policy="@Policies.IsAdmin">
           <Authorized>
               <MudNavGroup Title="Administration" Icon="@Icons.Material.Filled.AdminPanelSettings" Expanded="true">
                   <MudNavLink Href="admin/clients" Icon="@Icons.Material.Filled.People">
                       Clients
                   </MudNavLink>
                   <MudNavLink Href="admin/document-types" Icon="@Icons.Material.Filled.Description">
                       Document Types
                   </MudNavLink>
               </MudNavGroup>
           </Authorized>
       </AuthorizeView>

       <AuthorizeView>
           <Authorized>
               <MudNavGroup Title="Documents" Icon="@Icons.Material.Filled.Folder" Expanded="true">
                   <MudNavLink Href="documents" Icon="@Icons.Material.Filled.FileCopy">
                       My Documents
                   </MudNavLink>
                   <MudNavLink Href="requirements" Icon="@Icons.Material.Filled.AssignmentTurnedIn">
                       Requirements
                   </MudNavLink>
               </MudNavGroup>
           </Authorized>
       </AuthorizeView>

       <MudSpacer />
       <LoginDisplay />
   </MudNavMenu>
</MudDrawer>

@code {
   [Inject] private IAuthorizationService AuthorizationService { get; set; } = default!;
   private bool _drawerOpen = true;
}