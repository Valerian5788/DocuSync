@using Microsoft.Identity.Web
@inject NavigationManager Navigation
@using MudBlazor

<AuthorizeView>
    <Authorized>
        <MudStack Row="true" Spacing="2" AlignItems="AlignItems.Center">
            <MudText Typo="Typo.body2">
                Hello, @context.User.Identity?.Name!
            </MudText>
            <MudButton Variant="Variant.Text"
                       Color="Color.Inherit"
                       OnClick="SignOut">
                Sign Out
            </MudButton>
        </MudStack>
    </Authorized>
    <NotAuthorized>
        <MudButton Variant="Variant.Text"
                   Color="Color.Inherit"
                   OnClick="SignIn">
            Sign In
        </MudButton>
    </NotAuthorized>
</AuthorizeView>

@code {
    private void SignIn()
    {
        Navigation.NavigateTo("MicrosoftIdentity/Account/SignIn", true);
    }

    private void SignOut()
    {
        Navigation.NavigateTo("MicrosoftIdentity/Account/SignOut", true);
    }
}